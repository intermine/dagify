<html>
    <head>
        <script src="http://cdn.intermine.org/js/jquery/1.9.1/jquery-1.9.1.min.js"></script>
        <script src="http://cdn.intermine.org/js/underscore.js/latest/underscore.js"></script>
        <script src="http://cdn.intermine.org/js/intermine/imjs/latest/im.js"></script>
        <script src="http://cdn.intermine.org/js/d3/3.0.8/d3.js" charset="UTF-8"></script>
        <script src="http://cdn.intermine.org/js/backbone.js/0.9.2/backbone-min.js"></script>
        <script src="http://cdn.intermine.org/js/prelude-ls/latest/prelude-browser-min.js"></script>
        <script src="dagre.js"></script>
        <script src="index.js"></script>
        <link rel="stylesheet" href="http://cdn.intermine.org/css/foundation/3.1.1/stylesheets/foundation.css">
        <link rel="stylesheet" href="http://cdn.intermine.org/css/font-awesome/3.0.2/css/font-awesome.css">
    </head>
    <body>
        <div id="dag">
            <svg>
                <defs>
                    <marker id="arrowhead"
                            viewBox="0 0 12 12"
                            refX="1"
                            refY="5"
                            markerUnits="userSpaceInUse"
                            markerWidth="8"
                            markerHeight="5"
                            orient="auto"
                            style="fill: #555">
                        <circle cx="5" cy="5", r="5"/>
                    </marker>
                    <marker id="Triangle"
                        viewBox="0 0 10 10" refX="0" refY="5" 
                        markerUnits="strokeWidth"
                        markerWidth="4" markerHeight="3"
                        orient="auto">
                        <path d="M 0 0 L 10 5 L 0 10 z" />
                    </marker>
                    <path id="throbber" d="M 150,0
                            a 150,150 0 0,1 106.066,256.066
                            l -35.355,-35.355
                            a -100,-100 0 0,0 -70.711,-170.711 z"
                            fill="#3d7fe6">
                        <animateTransform attributeName="transform" attributeType="XML"
                            type="rotate" from="0 150 150" to="360 150 150"
                            begin="0s" dur="1s" fill="freeze" repeatCount="indefinite" />
                    </path>
                </defs>
            </svg>
        </div>
        <select id="jiggle" class="graph-control">
            <option value="none">Force Directed Layout</option>
            <option value="strata">Move Roots to Top</option>
            <option value="centre">Move Roots to Centre</option>
        </select>
        <select id="spline" class="graph-control">
            <option value="curved">Curved Links</option>
            <option value="straight">Straight Links</option>
        </select>
        <button id="force-reset" class="graph-control">Reset</button>
        <select id="graph-root" class="graph-control">
        </select>
        <select id="elision" class="graph-control">
        </select>
        <div id="ontology-table">
            <div class="slide-control">
                <i class="icon-chevron-left"></i>
            </div>
            <div class="ontology-table-container">
                <table class="marked-terms">
                    <thead>
                        <tr>
                            <th>Subject</th>
                            <th>Predicate</th>
                            <th>Object</th>
                        </tr>
                    </thead>
                </table>
            </div>
        </div>
    </body>
    <style>

        #ontology-table, #ontology-table .slide-control {
            border: 1px solid #ccc;
        }
        #ontology-table {
            overflow: hidden;
            position: fixed;
            display: none;
            z-index: 1000;
            background: #fff;
        }
        #ontology-table .slide-control {
            float: left;
            height: 100%;
            width: 50px;
            border-top: none;
            border-left: none;
            border-bottom: none;
            font-size: 40px;
            padding-left: 5px;
            padding-top: 5px;
        }
        #dag {
            width: 100%;
            height: 100%;
        }
        .graph-control {
            width: 200px;
            display: none;
            position: absolute;
            left: 50px;
        }
        #jiggle {
            bottom: 25px;
        }
        #spline {
            bottom: 50px;
        }
        #force-reset {
            bottom: 125px;
        }
        #graph-root {
            bottom: 75px;
        }
        #elision {
            bottom: 100px;
        }

        svg {
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAMAAACKeiw+AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAZQTFRF////9fb3h/JDwQAAABtJREFUeNpiYMQLGBgZ8IJR6VHpUWnKpAECDACcGgA72QxfPgAAAABJRU5ErkJggg==);
        }
        .node rect {
            white-space: normal;
            stroke-width: 1.5px;
            stroke: #333;
        }
        .node rect.direct {
            fill: red;
        }
        .node rect.focus {
        }
        text {
            font-family: "Helvetica Neue", "Helvetica", "Droid Sans", "Ubuntu";
        }
        .node text.dag-label {
            stroke-width: 3px;
            fill: #fff;
        }
        .node text.focus,
        .node text.direct {
            fill: #fff;
        }
        .node text.chord-label.direct {
            fill: red;
        }
        .node:hover {
            cursor: pointer;
        }
        .edge rect {
            fill: #fff;
        }
        .edge path {
            fill: none;
        }
        .link {
            fill: none;
            opacity: 0.5;
        }
        .chord {
            fill: none;
            opacity: 0.5;
        }
        .edge path.highlight,
        .edge:hover path {
            stroke: rgba(136, 204, 0, 0.55);
            stroke-width: 14px;
        }
        .highlight #arrowhead,
        .edge:hover #arrowhead {
            stroke-width: 3px;
        }
        .edge .label text {
            stroke: none;
            fill: #333;
        }
        .edge .label text,
        .legend text,
        text.dag-label {
            font-family: "Ubuntu mono", "Droid Sans Mono", "Inconsolata", "Consolas", "Monospaced", monospace;
        }
        .chord-label {
            font-size: 8px;
            fill: #555;
        }
        .chord.focus {
            stroke-width: 3px;
            stroke: red;
        }
        text.go-name {
            font-size: 10px;
        }
        text.go-name:hover {
            opacity: 1;
        }
        .cp {
            cursor: pointer;
            opacity: 0;
        }
        path.highlight .label text,
        .edge:hover .label text {
            font-size: 26px;
            opacity: 1;
        }
        .edge:hover .cp {
            opacity: 1;
        }
        path.force-link {
        }
        text.force-label {
            cursor: pointer;
        }
        path.force-link.highlit {
            stroke-width: 15px;
            stroke-linecap: round;
            stroke-linejoin: round;
            stroke: rgba(218, 226, 23, 0.4);
        }
        circle.force-term {
            cursor: pointer;
            stroke: white;
            stroke-width: 1;
        }
        rect.root,
        circle.root {
            fill: rgb(120, 31, 180);
        }
        circle.direct {
            fill: red;
        }
        .legend text {
            fill: #555;
        }
    </style>
</html>


